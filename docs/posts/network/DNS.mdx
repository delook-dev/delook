---
title: 'DNS(Domain Name System)'
type: 'concept'
language: 'network'
tags:
  - Network
  - IP
  - Protocol
  - Domain
dateModified: 2025.10.12
---

import { ImageContainer } from '/src/components/ui/ImageContainer.tsx';

# 1. DNS란?

DNS(Domain Name System)이란 사용자가 웹브라우저에 사람이 읽을 수 있는 도메인 네임을 컴퓨터가 이해할 수 있는 ip주소로 변환하는 분산 데이터베이스 시스템을 의미합니다.

- ```naver.com```이라는 도메인 명을 입력하면 DNS를 통해 해당 도메인 명과 매핑되어있는 IP 주소로 변환해 브라우저가 인터넷 자원을 로드할 수 있도록 도와줍니다.
    - 도메인 이름 : 체계적인 문자로 표현한 호스트 이름
    - www.naver.com 의 주소 중 naver.com 부분을 의미합니다.
    - www는 호스트 네임(host name)이라고 불립니다.

- DNS는 여러 개의 DNS 서버(혹은 네임 서버)들로 구성된 분산 시스템입니다.
    - OSI 7 계층 중, 애플리케이션 계층에서 동작하는 프로토콜
    - 기본적으로 UDP/53을 기반으로 사용하지만, 특수한 상황에서는 TCP/53도 사용

## 도메인 네임 구조

<ImageContainer category="network" fileName="DNS-1.png" alt="도메인 네임 구조" />

# 2. DNS 동작 방식

<ImageContainer category="network" fileName="DNS-2.png" alt="DNS 동작 방식" />

1. 사용자가 브라우저에 www.naver.com 과 같은 도메인을 입력한 뒤, 엔터를 누릅니다.
2. 현재 컴퓨터에 해당 도메인 명의 IP가 캐싱되어 있거나 C:\Windows\System32\drivers\etc\에 있는 host라는 파일에 있는지 확인하고 없으면 이 URL은 ISP(Internet Service Provider)가 관리하는 DNS resolver에 전송됩니다.
3. DNS resolver는 캐싱 여부를 확인하고 없으면 root 서버에 도메인명을 보내 .com 도메인의 TLD(최상위 도메인) 서버의 IP주소를 알아냅니다.
4. TLD 서버에 다시 URL을 요청하고 모든 도메인 네임에 대한 IP주소를 가지고 있는 Authrotitative Name Server의 IP를 반환합니다.
5. Authrotitative Name Server을 통해 질의하여 해당 도메인과 매핑되는 DNS 레코드의 IP 주소 정보를 찾아서 반환합니다.
6. 해당 도메인과 일치하는 IP주소를 응답 받습니다.
7. DNS resolver는 이 IP주소를 클라이언트에게 다시 전송합니다.

## DNS 질의 방식

1. 재귀적 질의(Recursive Query)
- 클라이언트(사용자)와 재귀적 DNS 서버 사이에서 발생
- 클라언트 : 재귀적 DNS 서버에게 "내가 원하는 도메인의 IP 주소를 찾아줘"라고 요청
- 재귀적 DNS 서버(DNS Resolver) : 클라이언트의 요청에 대한 최종적인 답변(IP 주소)을 찾아 클라이언트에게 전달

클라이언트 입장에서는 단 한 번의 요청으로 모든 과정을 위임하는 셈입니다.

2. 반복적 질의(Iterative Query)
- 재귀적 DNS 서버가 다른 DNS 서버들(루트, TLD, 권한 있는 DNS 서버)에게 정보를 요청하는 과정
- 재귀적 DNS 서버는 IP 주소를 찾기 위해 다음과 같은 과정 반복 (2번 DNS 동작 방식의 일부)
    1. 재귀적 DNS 서버 -> 루트 DNS 서버 (질의) : "내가 찾는 도메인의 정보를 어디서 얻을 수 있니?"
    2. 루트 DNS 서버 -> 재귀적 DNS 서버 (응답) : 루트 DNS 서버는 그 도메인의 TLD(최상위 도메인)를 담당하는 TLD DNS 서버의 주소를 알려줍니다.
    3. 재귀적 DNS 서버 -> TLD DNS 서버 (질의) : "내가 찾는 도메인의 정보를 어디서 얻을 수 있니?"
    4. TLD DNS 서버 -> 재귀적 DNS 서버 (응답) : TLD DNS 서버는 해당 도메인의 정보를 최종적으로 가지고 있는 권한 있는(Authoritative) DNS 서버의 주소를 알려줍니다.
    5. 재귀적 DNS 서버 -> 권한 있는 DNS 서버 (질의) : "내가 찾는 도메인의 정보를 어디서 얻을 수 있니?"
    6. 권한 있는 DNS 서버 -> 재귀적 DNS 서버 (응답) : 최종 IP 주소

## DNS 주요 구성 요소

각 요소는 DNS가 원활하게 작동하는데 중요한 역할을 합니다.

1. DNS 리졸버(Resolver) : DNS의 요청을 받아들이고 해당 도메인의 IP 주소를 찾아주는 장치나 소프트웨어입니다.
대부분의 인터넷 서비스 제공자(ISP)에서 이 역할을 수행합니다.
2. 네임 서버(Name Server) : 도메인 이름과 그에 상응하는 IP 주소 정보를 저장하는 서버입니다. 네임 서버는 여러 종류가 있으며, 각각의 역할에 따라 루트 네임 서버, TLD 네임 서버, 권한있는 네임 서버로 구분됩니다.
3. 존 파일(Zone File) : 권한있는 네임 서버에 저장된 파일로, 도메인과 IP 주소의 매핑 정보를 포함하고 있습니다.
4. 레코드(Record) : DNS 레코드는 특정 도메인에 대한 정보를 저장하는 형식입니다.

# 3. DNS 서버 요청 시 UDP를 사용하는 이유

일반적으로 안정적인 데이터 송수신을 위해 TCP를 사용한느 경우가 대부분입니다. 그런데 왜 DNS 서버에 요청을 보낼 때 대부분 UDP를 사용할까요?

1. TCP에 비해 빠른 전송
    - TCP는 안정적인 데이터 전송을 위해 많은 절차 필요하여 전송 속도가 느릴 수 밖에 없습니다.
    - 그러면 여기서 DNS 서버 요청 시에도 그런 절차가 필요하지 않을까? 라는 의문이 듭니다. 
    아무리 속도가 빠르다고 해도 DNS 서버에 요청을 할 때 안정적으로 전송되지 않으면 문제가 생길 수 있기 때문입니다. 
    게다가 UDP는 TCP와 달리 검출 프로세스가 없기 때문에 다른 사람이 악의적으로 패킷을 가로채서 내용을 변경하더라도 막을 방법이 없습니다. 그래도 왜 UDP를 더 많이 사용할까요?
2. 요청 데이터의 크기가 작아 전송 계층에서 데이터를 쪼갤 필요 x
    - 전송 계층에서 데이터그램 하나만으로 충분히 데이터를 담을 수 있으므로, TCP의 이점 중 하나인 순서 보장이 필요 없습니다.
3. TLS 전송 계층에서 암호화 프로토콜이 자주 쓰이기 때문에 전송 계층에서 데이터의 변조가 발생하더라도 이를 통해 잡아낼 수 있습니다.

- 다만, 2번에서 데이터의 크기가 커서 쪼개야 하거나, 생대 측 방화벽에서 UDP 프로토콜을 사용하는 데이터그램을 차단하는 경우 TCP를 사용해야 합니다.

# 4. DNS 보안 문제

DNS는 네트워크 보안에 있어 매우 중요한 역할을 합니다. 하지만, DNS가 악용될 경우 심각한 보안 문제를 초래할 수 있습니다.

1. DNS 스푸핑(DNS Spoofing) : 공격자가 가짜 DNS 정보를 제공하여 사용자를 의도하지 않은 웹사이트로 유도하는 공격 방식입니다. 이를 통해 악성 웹사이트로 사용자를 유도하거나 개인 정보를 탈취할 수 있습니다.
2. DNS DDoS 공격 : 분산 서비스 거부(DDoS) 공격은 다수의 장치로부터 DNS 서버에 과도한 요청을 보내 서버를 마비시키는 방식입니다. DNS 서버가 정상적으로 작동하지 않으면, 인터넷 연결에 문제가 생깁니다.
3. DNSSEC : DNS 보안을 강화하기 위해 개발된 기술로, DNS 레코드가 조작되지 않았는지 검증하는 기능을 제공합니다. DNSSEC는 각 레코드에 디지털 서명을 부여해 사용자가 신뢰할 수 있는 DNS 정보를 받을 수 있도록 보장합니다.